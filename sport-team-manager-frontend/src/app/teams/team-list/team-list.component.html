<div class="page-header d-flex justify-content-between align-items-center fade-in">
  <div>
    <h2 class="mb-2">
      <span class="material-icons">groups</span>
      Gerenciar Times
    </h2>
    <p class="text-muted mb-0">Administre os times do sistema</p>
  </div>
  <button class="btn btn-primary" routerLink="/teams/new">
    <span class="material-icons">add</span>
    Novo Time
  </button>
</div>

<div *ngIf="loading" class="loading-spinner">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Carregando...</span>
  </div>
</div>

<div *ngIf="error" class="alert alert-danger" role="alert">
  <span class="material-icons">error</span>
  {{ error }}
</div>

<div *ngIf="!loading && !error" class="fade-in">
  <div class="card-grid">
    <div class="card" *ngFor="let team of teams">
      <div class="card-header">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="card-title mb-0">{{ team.name }}</h5>
          <span class="badge" [ngClass]="getSportTypeBadgeClass(team.sportType)">
            {{ team.sportType }}
          </span>
        </div>
      </div>
      <div class="card-body">
        <div class="team-info">
          <div class="info-item mb-3">
            <span class="material-icons">person</span>
            <div>
              <strong>Treinador:</strong>
              <div class="text-muted">{{ team.coachName }}</div>
            </div>
          </div>
          <div class="info-item mb-3">
            <span class="material-icons">stadium</span>
            <div>
              <strong>Estádio:</strong>
              <div class="text-muted">{{ team.homeField }}</div>
            </div>
          </div>
          <div class="info-item mb-3">
            <span class="material-icons">palette</span>
            <div>
              <strong>Cores:</strong>
              <div class="text-muted">{{ team.colors }}</div>
            </div>
          </div>
          <div class="info-item">
            <span class="material-icons">calendar_today</span>
            <div>
              <strong>Fundado:</strong>
              <div class="text-muted">{{ getFoundedYears(team.foundedDate) }} anos atrás</div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer">
        <div class="btn-group w-100">
          <button class="btn btn-outline-primary btn-sm" [routerLink]="['/teams/edit', team.id]">
            <span class="material-icons">edit</span>
            Editar
          </button>
          <button class="btn btn-outline-info btn-sm" [routerLink]="['/teams', team.id, 'players']">
            <span class="material-icons">people</span>
            Jogadores
          </button>
          <button class="btn btn-outline-danger btn-sm" (click)="deleteTeam(team.id)">
            <span class="material-icons">delete</span>
            Excluir
          </button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="teams.length === 0" class="text-center">
    <div class="empty-state">
      <span class="material-icons">sports</span>
      <h4 class="mt-3">Nenhum time encontrado</h4>
      <p class="mb-4">Comece criando o primeiro time do seu sistema</p>
      <button class="btn btn-primary" routerLink="/teams/new">
        <span class="material-icons">add</span>
        Criar Primeiro Time
      </button>
    </div>
  </div>
</div>